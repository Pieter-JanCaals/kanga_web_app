<% drinks.each do |drink| %>
  <% order_drink = OrderDrink.find_by(order: order, drink: drink) || OrderDrink.new %>
  <div class="drink">
    <div class="drink-content">
      <%= drink.name %>
      <%= drink.category.name %>
    </div>
    <% if order_drink.amount > 0 %>
      <div>
        <p>Total = <%= order_drink.amount %></p>
      </div>
    <% end %>
    <div class="hidden-order-btns", style="display: none">
      <p class="drink-close-btn">X</p>
      <%= simple_form_for [order, drink, order_drink], remote: true do |f| %>
        <p class="drink-minus-btn">-</p>
        <%= f.input :amount, class: "order-amount", type: "number", name: "order-amount", readonly: true %>
        <p class="drink-plus-btn">+</p>
        <%= f.submit "Add", class: "order-submit" %>
      <% end %>
    </div>
  </div>
<% end %>

<%= javascript_pack_tag 'drinks' %>
